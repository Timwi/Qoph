<style>
	table.rmgrid td {
		text-align: center;
		background: hsl(220, 50%, 85%);
	}
	table.rmgrid td.hl {
		background: hsl(220, 50%, 30%);
		color: white;
	}
	table.rmgrid td.q {
		border: 2px solid hsl(220, 50%, 30%);
	}
		table.rmgrid td.q > span {
			display: block;
			width: 0;
			margin: 0 auto;
		}
		table.rmgrid td.q > span > span {
			transform: translate(-50%, 0);
			width: min-content;
			display: block;
			white-space: nowrap;
		}
		table.rmgrid td.q > span > span.w {
			font-family: 'Consolas', monospace;
			transform: translate(-50%, 0) scale(.85, 1);
		}
	table.rmgrid.re-d td.q .h {
		font-weight: bold;
		text-decoration: underline;
	}
	div.item {
		font-size: 14pt;
		font-weight: bold;
	}
	div.group {
		font-size: 8pt;
		font-style: italic;
	}
</style>
<script src='../../files/solutions.js'></script>
<h1>Rectangle Mangle</h1>
<script>
let groupnames = {
	'uk': 'Countries of the United Kingdom',
	'be': 'Members of The Beatles',
	'ip': 'Inner planets of the solar system',
	'mf': 'Mahjong flower tiles',
	'fs': 'Four-stroke engine',
	'gg': 'Gas giants of the solar system',
	'sf': 'Seinfeld main characters',
	'ha': 'Horsemen of the Apocalypse',
	'sp': 'South Park main characters',
	'cd': 'Cardinal directions',
	'pm': 'Pac-Man ghosts',
	'ce': 'Classical elements',
	'hh': 'Houses of Hogwarts (Harry Potter)',
	'cm': 'CMYK color system in printers',
	'at': 'The A-Team main characters',
	'ff': 'Fundamental forces of the universe',
	'bp': 'Bases in DNA',
	'tc': 'Triwizard champions (Harry Potter)',
	'f4': 'Fantastic Four main characters',
	'fc': 'Four-corner states (USA)',
	'ba': 'Basic arithmetic operations',
	'sm': 'States of matter',
	'nt': 'Teenage Mutant Ninja Turtles',
	'cv': 'Cardinal virtues',
	'ms': 'Mahjong season tiles',
	'tt': 'Teletubbies',
	'gb': 'Ghostbusters main characters',
	'bg': 'Bible gospel authors'
};
makeSolutionPage('rectangle-mangle', `

<p>The key insight here is that [o these images represent things or items from groups of four, but only three items from each group are present. Furthermore, the three items present form the corners of a rectangle. This suggests to [sa find the fourth item from each group and place it in the remaining corner to complete the rectangle.]]</p>
{-a <p>The groups are [rb shown below, and the missing items [rc land exactly where the question marks are.]]</p>}
{-b
{-c <p>Finally, we notice that [o the answers that land on the same squares all have the same length, and [o the number of letters they have in common matches the number of question marks. [sd Let’s extract those letters.]]]</p>}
<table class='rmgrid r-d'>
<tr>◁England|uk▷◁Scotland|uk▷◁John Lennon|be▷◁Venus|ip▷◁Earth|ip▷◁Plum|mf▷◁Intake|fs▷◁Orchid|mf▷◁Compression|fs▷◁Paul McCartney|be▷</tr>
<tr>◁Jupiter|gg▷◁George Costanza|sf▷◁Kyle Broflovski|sp▷◁Mars|ip▷<td class='q'>{c «M‹E›RC‹U›RY»«N‹E›PT‹U›NE»}<span>{/d ??}{d «EU»}</span></td>◁Death|ha▷<td class='q'>{c «JE‹R›RY»«NO‹R›TH»}<span>{/d ?}{d «R»}</span></td>◁Kenny McCormick|sp▷◁War|ha▷◁South|cd▷</tr>
<tr>◁Inky|pm▷◁Fire|ce▷◁Gryffindor|hh▷◁Water|ce▷◁Hufflepuff|hh▷<td class='q'>{c «BAMB‹O›O»«YELL‹O›W»}<span>{/d ?}{d «O»}</span></td><td class='q'>{c «‹P›OWER»«‹P›INKY»}<span>{/d ?}{d «P»}</span></td>◁Chrysan&shy;themum|mf▷◁Exhaust|fs▷◁Cyan|cm▷</tr>
<tr>◁Northern Ireland|uk▷<td class='q'>{c «W‹A›LES»«E‹A›RTH»}<span>{/d ?}{d «A»}</span></td>◁B. A. Baracus|at▷◁Air|ce▷<td></td>◁Gravity|ff▷◁West|cd▷◁Hannibal Smith|at▷◁Electro&shy;magnetism|ff▷◁East|cd▷</tr>
<tr>◁Adenine|bp▷◁Harry Potter|tc▷<td class='q'>{c «R‹I›NG‹O›STARR»«V‹I›KT‹O›RKRUM»}<span>{/d ??}{d «IO»}</span></td>◁Mister Fantastic|f4▷◁Invisible Woman|f4▷<td class='q'>{c «‹C›ONQUEST»«‹C›YTOSINE»}<span>{/d ?}{d «C»}</span></td>◁Colorado|fc▷◁Utah|fc▷◁Famine|ha▷◁George Harrison|be▷</tr>
<tr>◁Thymine|bp▷◁Fortitude|cv▷◁Eric Cartman|sp▷◁Subtraction|ba▷◁Prudence|cv▷◁Guanine|bp▷◁Peter Venkman|gb▷<td class='q'>{c «STANM‹A›RSH»«RAYST‹A›NTZ»}<span>{/d ?}{d «A»}</span></td><td></td>◁Multiplication|ba▷</tr>
<tr>◁Solid|sm▷◁Elaine Benes|sf▷<td class='q'>{c «RAVENC‹L›AW»«DONATE‹L›LO»}<span>{/d ?}{d «L»}</span></td><td class='q'>{c «‹L›IQUID»«‹L›AALAA»}<span>{/d ?}{d «L»}</span></td>◁Slytherin|hh▷◁Michel&shy;angelo|nt▷◁Cosmo Cramer|sf▷◁Winter|ms▷◁Spring|ms▷◁Tinky-Winky|tt▷</tr>
<tr>◁Blinky|pm▷◁Fleur Delacour|tc▷◁Cedric Diggory|tc▷<td class='q'>{c «THETH‹I›NG»«ADDIT‹I›ON»}<span>{/d ?}{d «I»}</span></td>◁The Human Torch|f4▷◁Weak interaction|ff▷◁Clyde|pm▷◁Autumn|ms▷<td class='q'>{c «‹S›TRONG»«‹S›UMMER»}<span>{/d ?}{d «S»}</span></td>◁Division|ba▷</tr>
<tr>◁Gas|sm▷<td class='q'>{c «JUS‹T›ICE»«MAT‹T›HEW»}<span>{/d ?}{d «T»}</span></td>◁Templeton Peck|at▷◁Plasma|sm▷◁Temperance|cv▷◁Magenta|cm▷◁New Mexico|fc▷<td class='q'>{c «MURD‹O›CK»«ARIZ‹O›NA»}<span>{/d ?}{d «O»}</span></td>◁Mark|bg▷◁Key|cm▷</tr>
<tr>◁Saturn|gg▷◁Luke|bg▷◁Raphael|nt▷◁Dipsy|tt▷◁Uranus|gg▷◁Leonardo|nt▷◁Egon Spengler|gb▷◁Winston Zeddemore|gb▷◁John|bg▷◁Po|tt▷</tr>
</table>
}
{-d <p>The extracted letters spell out «EUROPA, IO, CALLISTO» — [d another set of three items from a group of four, in this case the Galilean moons. [sg We find the fourth item to obtain the answer.]]</p>}
{-g <div class='answer'>GANYMEDE</div>}
`
	.replace(/◁([^\|]+)\|([a-z0-9]+)▷/g, (_, it, gr) => `<td class='g ${gr}' data-gr='${gr}'><div class='item'>${it}</div><div class='group'>${groupnames[gr]}</div></td>`),
	{
		b: function()
		{
			Array.from(document.querySelectorAll('table.rmgrid td.g')).forEach(td =>
			{
				let tds = Array.from(document.querySelectorAll(`table.rmgrid td.${td.dataset.gr}`));
				td.onmouseover	= function() { tds.forEach(t => { t.classList.add('hl'); }); };
				td.onmouseout	= function() { tds.forEach(t => { t.classList.remove('hl'); }); };
			});
		}
	});
</script>
