<style>
	table.key {
		border: 2px solid black;
		table-layout: fixed;
		margin: .5cm auto;
	}
		table.key td {
			width: 1cm;
			height: 1cm;
			text-align: center;
		}
	table.sol .h {
		font-weight: bold;
		text-decoration: underline;
	}
	table.sol td {
		text-align: center;
	}
</style>
<script src='../../files/solutions.js'></script>
<h1>The 47<div class='author'>by Timwi</div></h1>
<script>
makeSolutionPage('the-47', `
<p>Since this is a <em>meta puzzle</em>, it requires answers from earlier puzzles. Reading this solution page will spoil some of these answers.</p>
<p>Given that [o the grid at the top of the puzzle has 8 rows of 8 squares, it stands to reason that we’re looking to [d enter 8-letter words. There are 9 8-letter answers among the other puzzles, but [o 8 of them start with the letters A–H, so [ca we should use those in that order.]]]]</p>
{-a
<svg xmlns="http://www.w3.org/2000/svg" viewBox="-1 -1 82 82" font-family="Presquire" font-size="12" style='width: 8cm; display: block; margin: .1cm auto'>
	<path fill="none" stroke="#000" d="M0 0h80v80h-80z"/>
	<path fill="none" stroke="#000" stroke-width=".5" d="M10 0v80M20 0v80M30 0v80M40 0v80M50 0v80M60 0v80M70 0v80M0 10h80M0 20h80M0 30h80M0 40h80M0 50h80M0 60h80M0 70h80"/>
	<g font-size='3.5' text-anchor='end'>
		<text x='39.5' y='49'>1</text>
		<text x='19.5' y='39'>2</text>
		<text x='49.5' y='79'>3</text>
		<text x='59.5' y='79'>4</text>
		<text x='9.5' y='29'>5</text>
		<text x='59.5' y='59'>6</text>
		<text x='29.5' y='49'>7</text>
		<text x='9.5' y='79'>8</text>
		<text x='59.5' y='19'>9</text>
		<text x='49.5' y='9'>10</text>
	</g>
	<path stroke='black' stroke-width='.3' fill='none' d='M  5 29 a 4 4 0 1 1 4 -4 M  5 79 a 4 4 0 1 1 4 -4 M 15 39 a 4 4 0 1 1 4 -4 M 25 49 a 4 4 0 1 1 4 -4 M 35 49 a 4 4 0 1 1 4 -4 M 45  9 a 4 4 0 1 1 4 -4 M 45 79 a 4 4 0 1 1 4 -4 M 55 19 a 4 4 0 1 1 4 -4 M 55 59 a 4 4 0 1 1 4 -4 M 55 79 a 4 4 0 1 1 4 -4' />
	<g font-size='6' text-anchor='middle'><text x='5' y='7.5'>A</text><text x='15' y='7.5'>N</text><text x='25' y='7.5'>T</text><text x='35' y='7.5'>E</text><text x='45' y='7.5'>R</text><text x='55' y='7.5'>I</text><text x='65' y='7.5'>O</text><text x='75' y='7.5'>R</text><text x='5' y='17.5'>B</text><text x='15' y='17.5'>U</text><text x='25' y='17.5'>S</text><text x='35' y='17.5'>I</text><text x='45' y='17.5'>N</text><text x='55' y='17.5'>E</text><text x='65' y='17.5'>S</text><text x='75' y='17.5'>S</text><text x='5' y='27.5'>C</text><text x='15' y='27.5'>A</text><text x='25' y='27.5'>R</text><text x='35' y='27.5'>E</text><text x='45' y='27.5'>B</text><text x='55' y='27.5'>E</text><text x='65' y='27.5'>A</text><text x='75' y='27.5'>R</text><text x='5' y='37.5'>D</text><text x='15' y='37.5'>I</text><text x='25' y='37.5'>A</text><text x='35' y='37.5'>G</text><text x='45' y='37.5'>N</text><text x='55' y='37.5'>O</text><text x='65' y='37.5'>S</text><text x='75' y='37.5'>E</text><text x='5' y='47.5'>E</text><text x='15' y='47.5'>M</text><text x='25' y='47.5'>P</text><text x='35' y='47.5'>H</text><text x='45' y='47.5'>A</text><text x='55' y='47.5'>T</text><text x='65' y='47.5'>I</text><text x='75' y='47.5'>C</text><text x='5' y='57.5'>F</text><text x='15' y='57.5'>R</text><text x='25' y='57.5'>O</text><text x='35' y='57.5'>N</text><text x='45' y='57.5'>T</text><text x='55' y='57.5'>I</text><text x='65' y='57.5'>E</text><text x='75' y='57.5'>R</text><text x='5' y='67.5'>G</text><text x='15' y='67.5'>A</text><text x='25' y='67.5'>N</text><text x='35' y='67.5'>Y</text><text x='45' y='67.5'>M</text><text x='55' y='67.5'>E</text><text x='65' y='67.5'>D</text><text x='75' y='67.5'>E</text><text x='5' y='77.5'>H</text><text x='15' y='77.5'>I</text><text x='25' y='77.5'>R</text><text x='35' y='77.5'>O</text><text x='45' y='77.5'>L</text><text x='55' y='77.5'>L</text><text x='65' y='77.5'>E</text><text x='75' y='77.5'>R</text></g>
</svg>
<p>If we read [s the numbered letters in the appropriate order, [rb the cluephrase «HILL CIPHER» appears. <a href='https://en.wikipedia.org/wiki/Hill_cipher'>Wikipedia’s description of Hill cipher</a> is pretty good. We can see that we need a <em>key</em> in order to proceed.]]</p>
}
{-b <p>Fortunately, [o there is a key icon that indicates [d that the big 8×8 array of flags represents the key. [s Using Google Image search reveals that these flags [d are those of Japanese prefectures, of which there are 47. We need to find some official numbering for the prefectures. [cc The prefectures have ISO codes. <a href='https://en.wikipedia.org/wiki/Prefectures_of_Japan#By_Japanese_ISO'>Wikipedia has us covered.</a>]]]]]</p>}
{-c
<table class='bordered key'>
	<tr><td>5</td><td>36</td><td>13</td><td>19</td><td>14</td><td>42</td><td>37</td><td>15</td></tr>
	<tr><td>10</td><td>29</td><td>6</td><td>20</td><td>43</td><td>44</td><td>27</td><td>25</td></tr>
	<tr><td>12</td><td>7</td><td>46</td><td>17</td><td>31</td><td>20</td><td>45</td><td>15</td></tr>
	<tr><td>34</td><td>30</td><td>20</td><td>24</td><td>21</td><td>7</td><td>43</td><td>42</td></tr>
	<tr><td>28</td><td>11</td><td>22</td><td>1</td><td>22</td><td>33</td><td>36</td><td>9</td></tr>
	<tr><td>27</td><td>37</td><td>2</td><td>28</td><td>23</td><td>12</td><td>29</td><td>18</td></tr>
	<tr><td>22</td><td>41</td><td>45</td><td>40</td><td>34</td><td>8</td><td>3</td><td>26</td></tr>
	<tr><td>32</td><td>9</td><td>43</td><td>39</td><td>1</td><td>6</td><td>16</td><td>22</td></tr>
</table>
<p>Since the key [o uses numbers greater than 26, and the puzzle title quite insistently mentions the number 47, [d we should use modulo 47 to do the Hill cipher (not modulo 26 as is usual). We don’t know whether to do <em>encryption</em> or <em>decryption</em>, but [s encryption is easier because we don’t need to invert the matrix, so let’s try that first. Furthermore, [o the arrows labeled “messages” tell us to [dd encrypt each <em>column</em> from the 8×8 grid, not the feeder answers.]]]]]</p>}
{-d <p>After encoding each column, the grid turns into this: [re]</p>}
{-e
<table class='bordered key'>
	<tr><td>0</td><td>5</td><td>0</td><td>0</td><td>4</td><td>0</td><td>0</td><td>6</td></tr>
	<tr><td>0</td><td>0</td><td>0</td><td>0</td><td>8</td><td>0</td><td>0</td><td>1</td></tr>
	<tr><td>2</td><td>0</td><td>0</td><td>0</td><td>7</td><td>0</td><td>0</td><td>1</td></tr>
	<tr><td>0</td><td>0</td><td>2</td><td>0</td><td>0</td><td>3</td><td>0</td><td>2</td></tr>
	<tr><td>0</td><td>6</td><td>0</td><td>8</td><td>0</td><td>0</td><td>0</td><td>1</td></tr>
	<tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>4</td></tr>
	<tr><td>0</td><td>0</td><td>0</td><td>0</td><td>3</td><td>4</td><td>5</td><td>0</td></tr>
	<tr><td>6</td><td>3</td><td>0</td><td>0</td><td>0</td><td>0</td><td>3</td><td>0</td></tr>
</table>
<p>These are all very small numbers compared to the modulus of 47, and a lot of zeros, which is very unlikely to be a coincidence and thus suggests that we’re on the right track. But what do we do with these numbers? [c Small numbers are often used for indexing (deciding which letter from a word to extract). But what words do we index into? Well, there’s only one 8×8 grid of “words” that we have: [df the array of Japanese prefectures, which have names.]]</p>
}
{-f
<table class='bordered sol'>
<tr>
	<td></td>
	<td><div class='pref'>«TOKU‹S›HIMA»</div><div class='ix'>5 = «S»</div></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«KAN‹A›GAWA»</div><div class='ix'>4 = «A»</div></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«NIIGA‹T›A»</div><div class='ix'>6 = «T»</div></td>
</tr>
<tr>
	<td></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«KUMAMOT‹O›»</div><div class='ix'>8 = «O»</div></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«‹S›HIGA»</div><div class='ix'>1 = «S»</div></td>
</tr>
<tr>
	<td><div class='pref'>«C‹H›IBA»</div><div class='ix'>2 = «H»</div></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«TOTTOR‹I›»</div><div class='ix'>7 = «I»</div></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«‹N›IIGATA»</div><div class='ix'>1 = «N»</div></td>
</tr>
<tr>
	<td></td>
	<td></td>
	<td><div class='pref'>«N‹A›GANO»</div><div class='ix'>2 = «A»</div></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«FU‹K›USHIMA»</div><div class='ix'>3 = «K»</div></td>
	<td></td>
	<td><div class='pref'>«N‹A›GASAKI»</div><div class='ix'>2 = «A»</div></td>
</tr>
<tr>
	<td></td>
	<td><div class='pref'>«SAITA‹M›A»</div><div class='ix'>6 = «M»</div></td>
	<td></td>
	<td><div class='pref'>«HOKKAID‹O›»</div><div class='ix'>8 = «O»</div></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«‹T›OCHIGI»</div><div class='ix'>1 = «T»</div></td>
</tr>
<tr>
	<td><div class='pref'>«‹O›SAKA»</div><div class='ix'>1 = «O»</div></td>
	<td></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«‹C›HIBA»</div><div class='ix'>1 = «C»</div></td>
	<td></td>
	<td><div class='pref'>«FUK‹U›I»</div><div class='ix'>4 = «U»</div></td>
</tr>
<tr>
	<td></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«HI‹R›OSHIMA»</div><div class='ix'>3 = «R»</div></td>
	<td><div class='pref'>«IBA‹R›AKI»</div><div class='ix'>4 = «R»</div></td>
	<td><div class='pref'>«IWAT‹E›»</div><div class='ix'>5 = «E»</div></td>
	<td></td>
</tr>
<tr>
	<td><div class='pref'>«SHIMA‹N›E»</div><div class='ix'>6 = «N»</div></td>
	<td><div class='pref'>«TO‹C›HIGI»</div><div class='ix'>3 = «C»</div></td>
	<td></td>
	<td></td>
	<td></td>
	<td></td>
	<td><div class='pref'>«TO‹Y›AMA»</div><div class='ix'>3 = «Y»</div></td>
	<td></td>
</tr>
</table>
<p>The cluephrase «SATOSHI NAKAMOTO CURRENCY» appears, which [sg can be googled to reveal the answer.]</p>
}
{-g <div class='answer'>BITCOIN</div>}
`);
</script>
